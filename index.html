<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Abroad Experiences</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.8.0/sql-wasm.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üåç Student Abroad Experiences</h1>
            <p>Share and discover study abroad & internship experiences</p>
        </header>
        
        <!-- SQL File Upload Section -->
        <div class="content-box" style="margin-bottom: 20px; text-align: center;">
            <label for="sql-upload" id="db-upload-label" style="cursor: pointer; padding: 10px 20px; background: white; border: 2px dashed #667eea; border-radius: 8px; display: inline-block;">
                üìÅ Load SQL Database File (abroad_experiences.sql)
            </label>
            <input type="file" id="sql-upload" accept=".sql,.sqlite" style="display: none;">
            <button id="download-db" class="btn" style="margin-left: 20px;">‚¨áÔ∏è Download Database</button>
            <p id="upload-status" style="margin-top: 10px; font-size: 14px; color: white;"></p>
        </div>
        
        <div class="tabs">
            <button class="tab active" onclick="switchTab('browse-study')">Browse Study Abroad</button>
            <button class="tab" onclick="switchTab('browse-internship')">Browse Internships</button>
            <button class="tab" onclick="switchTab('add-study')">Add Study Experience</button>
            <button class="tab" onclick="switchTab('add-internship')">Add Internship</button>
        </div>
        
        <div class="content-box">
            <!-- Browse Study Abroad -->
            <div id="browse-study" class="view active">
                <h2>Study Abroad Experiences</h2>
                <div class="filters">
                    <div class="filter-group">
                        <label>Continent</label>
                        <select id="filter-study-continent">
                            <option value="">All</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Country</label>
                        <input type="text" id="filter-study-country" placeholder="Search by country...">
                    </div>
                    <div class="filter-group">
                        <label>University</label>
                        <input type="text" id="filter-study-institution" placeholder="Search by university...">
                    </div>
                </div>
                <div id="filter-summary"></div>
                <div id="study-results"></div>
            </div>
            
            <!-- Browse Internships -->
            <div id="browse-internship" class="view">
                <h2>Internship Experiences</h2>
                <div class="filters">
                    <div class="filter-group">
                        <label>Country</label>
                        <input type="text" id="filter-internship-country" placeholder="Search by country...">
                    </div>
                    <div class="filter-group">
                        <label>Company</label>
                        <input type="text" id="filter-internship-company" placeholder="Search by company...">
                    </div>
                </div>
                <div id="internship-results"></div>
            </div>
            
            <!-- Add Study Experience -->
            <div id="add-study" class="view">
                <h2 id="study-form-title">Share Your Study Abroad Experience</h2>
                <div class="success-message" id="study-success">Experience added successfully!</div>
                <form id="study-form">
                    <input type="hidden" name="entry_id">
                    <div class="form-row">
                        <div class="form-group">
                            <label>First Name *</label>
                            <input name="stud_first_name" type="text">
                        </div>
                        <div class="form-group">
                            <label>Last Name *</label>
                            <input name="stud_last_name" type="text">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Contact E-Mail *</label>
                            <input name="stud_email" type="email">
                        </div>
                        <div class="form-group">
                            <label>Study Class</label>
                            <select name="stud_class_year">
                            </select>
                        </div>
                    </div>

                    <div class="form-tabs">
                        <button type="button" class="form-tab active" data-tab="university">University</button>
                        <button type="button" class="form-tab" data-tab="courses">Courses</button>
                        <button type="button" class="form-tab" data-tab="housing">Housing</button>
                        <button type="button" class="form-tab" data-tab="visa">Visa</button>
                        <button type="button" class="form-tab" data-tab="finances">Finances</button>
                        <button type="button" class="form-tab" data-tab="vaccination">Vaccination</button>
                    </div>

                    <div class="form-content">
                        <!-- University Tab -->
                        <div id="university-tab" class="form-tab-content active">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Country *</label>
                                    <input name="country" list="countries">
                                    <datalist id="countries"></datalist>
                                </div>
                                <div class="form-group">
                                    <label>City *</label>
                                    <input name="city" list="cities">
                                    <datalist id="cities"></datalist>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Continent (political) *</label>
                                    <select name="continent">
                                        <option value="">Choose continent...</option>
                                        <option value="Afrika">Afrika</option>
                                        <option value="Asien">Asien</option>
                                        <option value="Australien">Asien</option>
                                        <option value="Europa">Europa</option>
                                        <option value="Nordamerika">Nordamerika</option>
                                        <option value="S√ºdamerika">S√ºdamerika</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>PLZ</label>
                                    <input name="plz" type="text">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>University *</label>
                                    <input name="university" list="institutions">
                                    <datalist id="institutions"></datalist>
                                </div>
                                <div class="form-group">
                                    <label>Duration *</label>
                                    <input name="duration" type="text">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Website</label>
                                    <input name="website" type="url">
                                </div>
                                <div class="form-group">
                                    <label>Website of Department</label>
                                    <input name="department_website" type="url">
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Application Tips</label>
                                <textarea name="application_tips" placeholder="Share tips for future students applying to this program..."></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label>General Comments</label>
                                <textarea name="general_comments" placeholder="Your overall thoughts and experiences..."></textarea>
                            </div>
                            

                        </div>

                        <!-- Finances Tab -->
                        <div id="finances-tab" class="form-tab-content">
                            <div class="form-row">
                                <div class="form-group">
                                    <label><input type="checkbox" name="study_fees"> Study Fees</label>
                                </div>
                                <div class="form-group">
                                    <label>Study Fees per Semester</label>
                                    <input name="tuition_cost" type="text">
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Financing Methods</label>
                                <select name="financing_methods">
                                    <option value="">Select...</option>
                                    <option value="AuslandsBaf√∂g">AuslandsBaf√∂g</option>
                                    <option value="Erasmus">Erasmus</option>
                                    <option value="DAAD">DAAD</option>
                                    <option value="Studentenkredit">Studentenkredit</option>
                                    <option value="Leonardo da Vinci">Leonardo da Vinci</option>
                                    <option value="Stipendium">Stipendium</option>
                                    <option value="Eigenfinanzierung">Eigenfinanzierung</option>
                                    <option value="Sonstiges">Sonstiges</option>
                                    <option value="Stipendienprogramm">Stipendienprogramm</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Financial Aid Amount</label>
                                <input name="financial_aid_amount" type="text">
                            </div>
                        </div>

                        <!-- Courses Tab -->
                        <div id="courses-tab" class="form-tab-content">
                            <div class="form-group">
                                <label style="display: flex; justify-content: space-between; align-items: center;">
                                    <span>Courses</span>
                                    <button type="button" id="add-course-btn" class="btn" style="padding: 8px 20px; font-size: 14px;">+ Add Course</button>
                                </label>
                                <div id="courses-container">
                                    <div class="course-entry" style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>Course Title *</label>
                                                <input type="text" name="course_title_0">
                                            </div>
                                            <div class="form-group">
                                                <label>ECTS</label>
                                                <input type="number" name="course_ects_0" min="0" step="0.5">
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>Responsible Person</label>
                                                <input type="text" name="course_responsible_person_0">
                                            </div>
                                            <div class="form-group">
                                                <label>Link to the course</label>
                                                <input type="url" name="course_link_0">
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>Pr√ºfungsleistung (in English)</label>
                                                <input type="text" name="course_exam_type_0">
                                            </div>
                                            <div class="form-group">
                                                <label>Difficulty (1-5)</label>
                                                <select name="course_difficulty_0">
                                                    <option value="">Select...</option>
                                                    <option value="5">5 - Excellent</option>
                                                    <option value="4">4 - Very Good</option>
                                                    <option value="3">3 - Good</option>
                                                    <option value="2">2 - Satisfactory</option>
                                                    <option value="1">1 - Sufficient</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label>Course Description</label>
                                            <textarea name="course_description_0" rows="2"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Housing Tab -->
                        <div id="housing-tab" class="form-tab-content">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Type of Housing *</label>
                                    <select name="housing_type">
                                        <option value="">Select...</option>
                                        <option value="Studentenwohnheim Uni">Studentenwohnheim Uni</option>
                                        <option value="Studentenwohnheim Privat">Studentenwohnheim Privat</option>
                                        <option value="WG">WG</option>
                                        <option value="Privat_Familie">Privat_Familie</option>
                                        <option value="Einzelzimmer">Einzelzimmer</option>
                                        <option value="Mietwohnung">Mietwohnung</option>
                                        <option value="Betriebswohnung">Betriebswohnung</option>
                                        <option value="Jugendherberge">Jugendherberge</option>
                                        <option value="Pension">Pension</option>
                                        <option value="Sonstiges">Sonstiges</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Link to Housing</label>
                                <input name="housing_link" type="url">
                            </div>
                            <div class="form-group">
                                <label>Housing Quality Rating (1-5)</label>
                                <select name="housing_quality">
                                    <option value="">Select...</option>
                                    <option value="5">5 - Sehr empfehlenswert</option>
                                    <option value="4">4 - gut</option>
                                    <option value="3">3 - mittelm√§√üig</option>
                                    <option value="2">2 - gerade noch ertragbar </option>
                                    <option value="1">1 - nicht empfehlenswert </option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Housing Cost</label>
                                <input name="housing_cost" type="number" min="0">
                            </div>
                            <div class="form-group">
                                <label>Comments on how to find housing (add links)</label>
                                <textarea name="housing_comments" rows="3"></textarea>
                            </div>
                        </div>

                        <!-- Visa Tab -->
                        <div id="visa-tab" class="form-tab-content">
                            <div class="form-group">
                                <label><input type="checkbox" id="visa-needed" name="visa_needed"> Visa needed</label>
                            </div>
                            <div id="visa-details" style="display: none;">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Cost</label>
                                        <input name="visa_cost" type="number" min="0">
                                    </div>
                                    <div class="form-group">
                                        <label>Botschaft</label>
                                        <input name="visa_embassy" type="text">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Ort der Botschaft</label>
                                        <input name="visa_embassy_location" type="text">
                                    </div>
                                    <div class="form-group">
                                        <label>Beantragungszeit</label>
                                        <input name="visa_application_time" type="text">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Bemerkungen</label>
                                    <textarea name="visa_comments" rows="3"></textarea>
                                </div>
                            </div>
                        </div>

                        <!-- Vaccination Tab -->
                        <div id="vaccination-tab" class="form-tab-content">
                            <div class="form-group">
                                <label style="display: flex; justify-content: space-between; align-items: center;">
                                    <span>Vaccinations</span>
                                    <button type="button" id="add-vaccination-btn" class="btn" style="padding: 8px 20px; font-size: 14px;">+ Add Vaccination</button>
                                </label>
                                <div id="vaccinations-container">
                                    <div class="vaccination-entry" style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>Which vaccination</label>
                                                <input name="vaccination_which_0" type="text">
                                            </div>
                                            <div class="form-group">
                                                <label>Costs</label>
                                                <input name="vaccination_costs_0" type="number" min="0">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label>Comments (does the Health insurance pay)</label>
                                            <textarea name="vaccination_comments_0" rows="3"></textarea>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <button type="submit" id="study-form-submit-btn" class="btn">Submit Experience</button>
                </form>
            </div>
            
            <!-- Add Internship -->
            <div id="add-internship" class="view">
                <h2>Share Your Internship Experience</h2>
                <div class="success-message" id="internship-success">Experience added successfully!</div>
                <form id="internship-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Name *</label>
                            <input name="name" type="text" required>
                        </div>
                        <div class="form-group">
                            <label>Contact E-Mail *</label>
                            <input name="contact_email" type="email" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Country *</label>
                            <input type="text" name="country" list="countries" required>
                        </div>
                        <div class="form-group">
                            <label>City *</label>
                            <input type="text" name="city" list="internship-cities" required>
                            <datalist id="internship-cities"></datalist>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Company/Organization *</label>
                        <input type="text" name="company_organization" list="internship-institutions" required>
                        <datalist id="internship-institutions"></datalist>
                    </div>
                    
                    <div class="form-group">
                        <label>Duration (e.g., 3 months, Summer 2023) *</label>
                        <input type="text" name="duration" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Living Cost (EUR)</label>
                            <input type="number" name="living_cost" step="1" min="0">
                        </div>
                        <div class="form-group">
                            <label>Monthly Stipend (EUR)</label>
                            <input type="number" name="stipend_amount" step="1" min="0">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Financing Methods</label>
                        <input type="text" name="financing_methods" placeholder="e.g., Company stipend, Erasmus+ internship grant">
                    </div>
                    
                    <div class="form-group">
                        <label>Work Description</label>
                        <textarea name="work_description" placeholder="What did you work on?"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>Skills Learned</label>
                        <textarea name="skills_learned" placeholder="What skills did you develop?"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>Application Tips</label>
                        <textarea name="application_tips" placeholder="Tips for future applicants..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>General Comments</label>
                        <textarea name="general_comments" placeholder="Your overall thoughts..."></textarea>
                    </div>
                    
                    
                    <button type="submit" class="btn">Submit Experience</button>
                </form>
            </div>
        </div>
    </div>

    <script src="countries.js"></script>
    <script src="study_class_years.js"></script>
    <script src="main.js"></script>
</body>
</html>
